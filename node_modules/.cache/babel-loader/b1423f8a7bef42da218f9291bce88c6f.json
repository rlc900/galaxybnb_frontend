{"ast":null,"code":"var _jsxFileName = \"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/src/components/BookingForm.jsx\";\nimport React, { Component } from 'react';\nimport { Form, Select } from 'semantic-ui-react';\nimport { DatesRangeInput } from 'semantic-ui-calendar-react';\nlet numberOptions = [{\n  text: '1',\n  value: '1'\n}, {\n  text: '2',\n  value: '2'\n}, {\n  text: '3',\n  value: '3'\n}, {\n  text: '4',\n  value: '4'\n}, {\n  text: '5',\n  value: '5'\n}, {\n  text: '6',\n  value: '6'\n}, {\n  text: '7',\n  value: '7'\n}, {\n  text: '8',\n  value: '8'\n}, {\n  text: '9',\n  value: '9'\n}, {\n  text: '10',\n  value: '10'\n}];\nconst initialState = {\n  planets: [],\n  datesRange: '',\n  numOfTravelers: '',\n  selectedPlanet: '',\n  planetError: '',\n  datesError: '',\n  travelersError: ''\n};\n\nclass BookingForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = initialState;\n\n    this.validate = () => {\n      let planetError = '';\n      let datesError = '';\n      let travelersError = '';\n      let {\n        selectedPlanet,\n        datesRange,\n        numOfTravelers\n      } = this.state;\n\n      if (!selectedPlanet) {\n        planetError = 'Please select a planet!';\n      }\n\n      if (!datesRange) {\n        datesError = 'Please select a date!';\n      }\n\n      if (!numOfTravelers) {\n        travelersError = 'Please select a number of travelers!';\n      }\n\n      if (selectedPlanet || datesRange || numOfTravelers) {\n        this.setState(planetError, datesError, travelersError);\n        return false;\n      }\n\n      return true;\n    };\n\n    this.handleSubmit = (evt, id) => {\n      evt.preventDefault();\n      const isValid = this.validate();\n      let {\n        selectedPlanet\n      } = this.state;\n\n      if (isValid) {\n        this.setState(initialState);\n      }\n\n      this.props.history.push(`/places/${selectedPlanet}`);\n      this.valuesFromBooking();\n    };\n\n    this.formatOptions = () => {\n      return this.state.planets.map(planet => {\n        return {\n          text: planet.name,\n          value: planet.id\n        };\n      });\n    };\n\n    this.handleChange = (event, {\n      name,\n      value\n    }) => {\n      if (this.state.hasOwnProperty(name)) {\n        this.setState({\n          [name]: value\n        });\n      }\n    };\n\n    this.valuesFromBooking = () => {\n      let {\n        planets,\n        selectedPlanet,\n        datesRange,\n        numOfTravelers\n      } = this.state;\n      this.props.sendStateToMain(planets, selectedPlanet, datesRange, numOfTravelers);\n    };\n  }\n\n  componentDidMount() {\n    //\n    fetch(`http://localhost:4000/planets`).then(r => r.json()).then(planetArr => {\n      // console.log(planetArr[0].name)\n      this.setState({\n        planets: planetArr\n      });\n    });\n  }\n\n  render() {\n    // console.log(this.state)\n    // console.log(this.props.stateFromMain)\n    return React.createElement(\"div\", {\n      className: \"booking-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      control: Select,\n      label: \"Planets\",\n      options: this.formatOptions(),\n      onChange: this.handleChange,\n      name: 'selectedPlanet',\n      placeholder: \"Planets\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, this.state.planetError), React.createElement(DatesRangeInput, {\n      name: \"datesRange\",\n      placeholder: \"From - To\",\n      value: this.state.datesRange,\n      iconPosition: \"left\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Form.Select, {\n      fluid: true,\n      label: \"How many travelers?\",\n      options: numberOptions,\n      onChange: this.handleChange,\n      name: 'numOfTravelers',\n      placeholder: \"Travelers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(Form.Button, {\n      inverted: true,\n      color: \"violet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nexport default BookingForm; // style={{ 'background-color': 'black', height: '700px' }}","map":{"version":3,"sources":["/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/src/components/BookingForm.jsx"],"names":["React","Component","Form","Select","DatesRangeInput","numberOptions","text","value","initialState","planets","datesRange","numOfTravelers","selectedPlanet","planetError","datesError","travelersError","BookingForm","state","validate","setState","handleSubmit","evt","id","preventDefault","isValid","props","history","push","valuesFromBooking","formatOptions","map","planet","name","handleChange","event","hasOwnProperty","sendStateToMain","componentDidMount","fetch","then","r","json","planetArr","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Select } from 'semantic-ui-react'\nimport { DatesRangeInput } from 'semantic-ui-calendar-react';\n\n\nlet numberOptions = [\n  {text: '1', value: '1'},\n  {text: '2', value: '2'},\n  {text: '3', value: '3'},\n  {text: '4', value: '4'},\n  {text: '5', value: '5'},\n  {text: '6', value: '6'},\n  {text: '7', value: '7'},\n  {text: '8', value: '8'},\n  {text: '9', value: '9'},\n  {text: '10', value: '10'}\n]\n\nconst initialState = {\n  planets: [],\n  datesRange: '',\n  numOfTravelers: '',\n  selectedPlanet: '',\n  planetError: '',\n  datesError: '',\n  travelersError: ''\n}\n\n\nclass BookingForm extends Component {\n\n  state = initialState\n\n  validate = () => {\n    let planetError = ''\n    let datesError = ''\n    let travelersError = ''\n    let {selectedPlanet, datesRange, numOfTravelers} = this.state\n\n    if (!selectedPlanet) {\n      planetError = 'Please select a planet!'\n    }\n\n    if (!datesRange) {\n      datesError = 'Please select a date!'\n    }\n\n    if (!numOfTravelers) {\n      travelersError = 'Please select a number of travelers!'\n    }\n\n    if (selectedPlanet || datesRange || numOfTravelers) {\n      this.setState(planetError, datesError, travelersError)\n      return false\n    }\n    return true\n  }\n\n  handleSubmit = (evt, id) => {\n    evt.preventDefault()\n    const isValid = this.validate()\n    let {selectedPlanet} = this.state\n\n    if (isValid) {\n      this.setState(initialState)\n    }\n    this.props.history.push(`/places/${selectedPlanet}`)\n    this.valuesFromBooking()\n  }\n\n  componentDidMount() {\n    //\n    fetch(`http://localhost:4000/planets`)\n        .then(r => r.json())\n        .then((planetArr) => {\n          // console.log(planetArr[0].name)\n          this.setState({\n            planets: planetArr\n          });\n        })\n  }\n\n  formatOptions = () => {\n    return this.state.planets.map(planet => {\n      return {\n        text: planet.name,\n        value: planet.id\n      }\n    })\n  }\n\n  handleChange = (event, {name, value}) => {\n    if (this.state.hasOwnProperty(name)) {\n      this.setState({ [name]: value });\n    }\n  }\n\n  valuesFromBooking = () => {\n    let {planets, selectedPlanet, datesRange, numOfTravelers} = this.state\n      this.props.sendStateToMain(planets, selectedPlanet, datesRange, numOfTravelers)\n  }\n\n\n  render() {\n    // console.log(this.state)\n    // console.log(this.props.stateFromMain)\n    return (\n      <div className='booking-form'>\n      <Form onSubmit={this.handleSubmit}>\n\n        <Form.Group widths='equal'>\n        <Form.Field\n            control={Select}\n            label='Planets'\n            options={this.formatOptions()}\n            onChange={this.handleChange}\n            name={'selectedPlanet'}\n            placeholder='Planets'\n          />\n        </Form.Group>\n        <div>{this.state.planetError}</div>\n        <DatesRangeInput\n         name=\"datesRange\"\n         placeholder=\"From - To\"\n         value={this.state.datesRange}\n         iconPosition=\"left\"\n         onChange={this.handleChange}\n        />\n        <Form.Group widths='equal'>\n        <Form.Select\n          fluid\n          label='How many travelers?'\n          options={numberOptions}\n          onChange={this.handleChange}\n          name={'numOfTravelers'}\n          placeholder='Travelers'\n        />\n      </Form.Group>\n\n        <Form.Button inverted color='violet'>Submit</Form.Button>\n      </Form>\n      </div>\n    );\n  }\n\n}\n\nexport default BookingForm;\n\n// style={{ 'background-color': 'black', height: '700px' }}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Grid,Image,Card,Button,Icon,Modal,Header}from'semantic-ui-react';import Emoji from'./Emoji';import ReviewForm from'./ReviewForm';import StripeCheckout from'react-stripe-checkout';// import Review from './Review'\nvar PlanetLocations=/*#__PURE__*/function(_Component){_inherits(PlanetLocations,_Component);function PlanetLocations(){var _getPrototypeOf2;var _this;_classCallCheck(this,PlanetLocations);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(PlanetLocations)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={open:false,location_id:0};_this.open=function(){return _this.setState({open:true});};_this.close=function(){return _this.setState({open:false});};_this.sendData=function(planetObj){_this.props.getPlanetObj(planetObj);};_this.renderPlanetNames=function(){return _this.props.stateFromMain.planets.map(function(planet){return planet?planet.name:'meow';});};_this.handleClick=function(evt){// console.log(this.state.location_id, this.props.stateFromMain.token)\n// let {token} = this.props.stateFromMain\n// if (token) {\nfetch('https://galaxybnb.herokuapp.com/bookings',{method:'POST',headers:{'content-type':'application/json','Authorization':\"bearer \".concat(_this.props.stateFromMain.token)},body:JSON.stringify({location_id:_this.state.location_id,datesRange:_this.props.stateFromMain.datesRange,numOfTravelers:_this.props.stateFromMain.numOfTravelers})}).then(function(r){return r.json();})// .then(console.log)\n.then(function(bookingObj){_this.props.addBooking(bookingObj);});};_this.onToken=function(token){var charge={token:token.id};var location_id=_this.state.location_id;var config={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({charge:charge,location_id:location_id,numOfTravelers:_this.props.stateFromMain.numOfTravelers})};// debugger\nfetch('https://galaxybnb.herokuapp.com/charges',config).then(function(res){return res.json();}).then(function(charge){if(charge){_this.handleClick();}});};_this.nestedModal=function(){var open=_this.state.open;return React.createElement(Modal,{open:open,onOpen:_this.open,onClose:_this.close,size:\"small\",trigger:React.createElement(StripeCheckout,{token:_this.onToken,stripeKey:process.env.REACT_APP_STRIPE_API_KEY},React.createElement(Button,{disabled:_this.props.stateFromMain.token?false:true,circular:true,inverted:true,color:\"red\"},\"Book Location \",React.createElement(Icon,{name:\"right chevron\"})))});};_this.handleBooking=function(id){_this.setState({location_id:id});};_this.renderLocations=function(state){var _this$props$stateFrom=_this.props.stateFromMain,datesRange=_this$props$stateFrom.datesRange,numOfTravelers=_this$props$stateFrom.numOfTravelers;var name=_this.props.stateFromMain.planetObj.name;return _this.props.stateFromMain.planetObj.locations?_this.props.stateFromMain.planetObj.locations.map(function(locationObj){return React.createElement(Grid.Column,{key:locationObj.id},React.createElement(Card.Group,null,React.createElement(Card,{centered:true,stackable:\"true\",itemsperrow:3,color:\"black\"},React.createElement(Image,{src:locationObj.image,wrapped:true,ui:false}),React.createElement(Card.Content,null,React.createElement(\"h1\",null,locationObj.name),React.createElement(Card.Header,null,\"&\",locationObj.price,\" galactic credits\"),React.createElement(Modal,{trigger:React.createElement(\"div\",null,React.createElement(Button,{animated:true,inverted:true,color:\"red\",size:\"small\",onClick:function onClick(){return _this.handleBooking(locationObj.id);}},React.createElement(Button.Content,{visible:true},\"Board Ship\"),React.createElement(Button.Content,{hidden:true},React.createElement(Emoji,{symbol:\"\\uD83D\\uDE80\\uD83D\\uDE80\\uD83D\\uDE80\",label:\"spaceship\"}))))},React.createElement(Modal.Header,null,\"Confirmation\"),React.createElement(Modal.Content,{image:true},React.createElement(\"div\",{className:\"image\"},React.createElement(Image,{wrapped:true,size:\"medium\",src:\"../baby_yoda.png\"})),React.createElement(Modal.Description,null,React.createElement(\"h1\",{className:\"planet-name\"},\"Planet: \",name),React.createElement(\"h1\",null,\"Location: \",locationObj.name),React.createElement(\"h2\",null,\"Date Range: \",datesRange),React.createElement(\"h3\",null,\"Number of Travelers: \",numOfTravelers),React.createElement(\"h3\",null,\"Price: \",locationObj.price*numOfTravelers))),React.createElement(Modal.Actions,null,_this.nestedModal())),React.createElement(Modal,{trigger:React.createElement(Button,{inverted:true,color:\"red\"},React.createElement(Button.Content,{visible:true},\"Reviews\"))},React.createElement(Modal.Header,null,locationObj.name),React.createElement(Modal.Content,{image:true},React.createElement(Image,{wrapped:true,size:\"medium\",src:locationObj.image}),React.createElement(Modal.Description,null,React.createElement(Header,null),locationObj.reviews.map(function(review){return React.createElement(\"div\",{className:\"review\"},React.createElement(\"p\",null,review.rating,\" - \",review.username));}),React.createElement(ReviewForm,{token:_this.props.stateFromMain.token,addReview:_this.props.addReview,locationId:locationObj.id,error_message:_this.props.stateFromMain.error_message}))))))));}):'The force is not with you.';};return _this;}_createClass(PlanetLocations,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// debugger;\nvar planetId=this.props.match.params.id;// console.log(planetId)\n// debugger\nfetch(\"https://galaxybnb.herokuapp.com/planets/\".concat(planetId)).then(function(r){return r.json();}).then(function(planetObj){_this2.sendData(planetObj);});}},{key:\"render\",value:function render(){// debugger;\n// console.log('STATE FROM PLANET_LOCATIONS', this.state.planetObj)\nconsole.log('PROPS FROM PLANET_LOCATIONS',this.props.stateFromMain);// console.log(this.state);\n// console.log('PROPS FROM PLANET_LOCATIONS', this.props.stateFromMain.planetObj.locations)\nvar name=this.props.stateFromMain.planetObj.name;return React.createElement(\"div\",null,React.createElement(Grid,{centered:true,columns:2},React.createElement(Grid.Column,null,React.createElement(\"h1\",null,\"Planet \",name),React.createElement(Image,{src:this.props.stateFromMain.planetObj.image})),React.createElement(Grid.Row,{centered:true,columns:4})),this.renderLocations());}}]);return PlanetLocations;}(Component);// {locationObj.reviews.map((review) => {\n//   return <p>{review.rating} - me</p>\n// })}\nexport default PlanetLocations;","map":{"version":3,"sources":["/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/src/components/PlanetLocations.jsx"],"names":["React","Component","Grid","Image","Card","Button","Icon","Modal","Header","Emoji","ReviewForm","StripeCheckout","PlanetLocations","state","open","location_id","setState","close","sendData","planetObj","props","getPlanetObj","renderPlanetNames","stateFromMain","planets","map","planet","name","handleClick","evt","fetch","method","headers","token","body","JSON","stringify","datesRange","numOfTravelers","then","r","json","bookingObj","addBooking","onToken","charge","id","config","res","nestedModal","process","env","REACT_APP_STRIPE_API_KEY","handleBooking","renderLocations","locations","locationObj","image","price","reviews","review","rating","username","addReview","error_message","planetId","match","params","console","log"],"mappings":"4qBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,IAAtB,CAA4BC,MAA5B,CAAoCC,IAApC,CAA0CC,KAA1C,CAAiDC,MAAjD,KAA+D,mBAA/D,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA;GAIMC,CAAAA,e,maAEJC,K,CAAQ,CACNC,IAAI,CAAE,KADA,CAENC,WAAW,CAAE,CAFP,C,OAKRD,I,CAAO,iBAAM,OAAKE,QAAL,CAAc,CAAEF,IAAI,CAAE,IAAR,CAAd,CAAN,E,OACPG,K,CAAQ,iBAAM,OAAKD,QAAL,CAAc,CAAEF,IAAI,CAAE,KAAR,CAAd,CAAN,E,OAERI,Q,CAAW,SAACC,SAAD,CAAe,CACxB,MAAKC,KAAL,CAAWC,YAAX,CAAwBF,SAAxB,EACD,C,OAcDG,iB,CAAoB,UAAM,CACxB,MAAO,OAAKF,KAAL,CAAWG,aAAX,CAAyBC,OAAzB,CAAiCC,GAAjC,CAAqC,SAACC,MAAD,CAAY,CACtD,MACEA,CAAAA,MAAM,CAAGA,MAAM,CAACC,IAAV,CAAiB,MADzB,CAGD,CAJM,CAAP,CAKD,C,OAEDC,W,CAAc,SAACC,GAAD,CAAS,CACrB;AACA;AAEA;AACEC,KAAK,CAAC,0CAAD,CAA6C,CAChDC,MAAM,CAAE,MADwC,CAEhDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,iCAA2B,MAAKZ,KAAL,CAAWG,aAAX,CAAyBU,KAApD,CAFO,CAFuC,CAMhDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBrB,WAAW,CAAE,MAAKF,KAAL,CAAWE,WADL,CAEnBsB,UAAU,CAAE,MAAKjB,KAAL,CAAWG,aAAX,CAAyBc,UAFlB,CAGnBC,cAAc,CAAE,MAAKlB,KAAL,CAAWG,aAAX,CAAyBe,cAHtB,CAAf,CAN0C,CAA7C,CAAL,CAYCC,IAZD,CAYM,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,IAAF,EAAJ,EAZP,CAaA;AAbA,CAcCF,IAdD,CAcM,SAAAG,UAAU,CAAI,CAClB,MAAKtB,KAAL,CAAWuB,UAAX,CAAsBD,UAAtB,EACD,CAhBD,EAiBH,C,OAIDE,O,CAAU,SAACX,KAAD,CAAW,CACnB,GAAMY,CAAAA,MAAM,CAAG,CACbZ,KAAK,CAAEA,KAAK,CAACa,EADA,CAAf,CAGA,GAAI/B,CAAAA,WAAW,CAAG,MAAKF,KAAL,CAAWE,WAA7B,CACA,GAAMgC,CAAAA,MAAM,CAAG,CACbhB,MAAM,CAAE,MADK,CAEbC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFI,CAKbE,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBS,MAAM,CAAEA,MADW,CAEnB9B,WAAW,CAAXA,WAFmB,CAGnBuB,cAAc,CAAE,MAAKlB,KAAL,CAAWG,aAAX,CAAyBe,cAHtB,CAAf,CALO,CAAf,CAWF;AACAR,KAAK,CAAC,yCAAD,CAA4CiB,MAA5C,CAAL,CACGR,IADH,CACQ,SAAAS,GAAG,QAAIA,CAAAA,GAAG,CAACP,IAAJ,EAAJ,EADX,EAEGF,IAFH,CAEQ,SAAAM,MAAM,CAAI,CACd,GAAIA,MAAJ,CAAY,CACV,MAAKjB,WAAL,GACD,CACF,CANH,EAQC,C,OAEDqB,W,CAAc,UAAM,IACXnC,CAAAA,IADW,CACF,MAAKD,KADH,CACXC,IADW,CAGlB,MAAQ,qBAAC,KAAD,EACN,IAAI,CAAEA,IADA,CAEN,MAAM,CAAE,MAAKA,IAFP,CAGN,OAAO,CAAE,MAAKG,KAHR,CAIN,IAAI,CAAC,OAJC,CAKN,OAAO,CACL,oBAAC,cAAD,EACE,KAAK,CAAE,MAAK2B,OADd,CAEE,SAAS,CAAEM,OAAO,CAACC,GAAR,CAAYC,wBAFzB,EAGA,oBAAC,MAAD,EACE,QAAQ,CAAG,MAAKhC,KAAL,CAAWG,aAAX,CAAyBU,KAAzB,CAAiC,KAAjC,CAAyC,IADtD,CAEE,QAAQ,CAAE,IAFZ,CAGE,QAAQ,KAHV,CAGW,KAAK,CAAC,KAHjB,mBAKc,oBAAC,IAAD,EAAM,IAAI,CAAC,eAAX,EALd,CAHA,CANI,EAAR,CAoBD,C,OAEDoB,a,CAAgB,SAACP,EAAD,CAAQ,CACtB,MAAK9B,QAAL,CAAc,CACZD,WAAW,CAAE+B,EADD,CAAd,EAGD,C,OAEDQ,e,CAAkB,SAACzC,KAAD,CAAW,2BACQ,MAAKO,KAAL,CAAWG,aADnB,CACtBc,UADsB,uBACtBA,UADsB,CACVC,cADU,uBACVA,cADU,IAEtBX,CAAAA,IAFsB,CAEd,MAAKP,KAAL,CAAWG,aAAX,CAAyBJ,SAFX,CAEtBQ,IAFsB,CAGzB,MAAO,OAAKP,KAAL,CAAWG,aAAX,CAAyBJ,SAAzB,CAAmCoC,SAAnC,CAA+C,MAAKnC,KAAL,CAAWG,aAAX,CAAyBJ,SAAzB,CAAmCoC,SAAnC,CAA6C9B,GAA7C,CAAiD,SAAC+B,WAAD,CAAiB,CACtH,MAAO,qBAAC,IAAD,CAAM,MAAN,EAAa,GAAG,CAAEA,WAAW,CAACV,EAA9B,EACL,oBAAC,IAAD,CAAM,KAAN,MACC,oBAAC,IAAD,EAAM,QAAQ,CAAE,IAAhB,CAAsB,SAAS,CAAC,MAAhC,CAAuC,WAAW,CAAE,CAApD,CAAuD,KAAK,CAAC,OAA7D,EACC,oBAAC,KAAD,EAAO,GAAG,CAAEU,WAAW,CAACC,KAAxB,CAA+B,OAAO,KAAtC,CAAuC,EAAE,CAAE,KAA3C,EADD,CAEC,oBAAC,IAAD,CAAM,OAAN,MACE,8BAAKD,WAAW,CAAC7B,IAAjB,CADF,CAEI,oBAAC,IAAD,CAAM,MAAN,UAAe6B,WAAW,CAACE,KAA3B,qBAFJ,CAGE,oBAAC,KAAD,EAAO,OAAO,CACZ,+BACA,oBAAC,MAAD,EAAQ,QAAQ,KAAhB,CAAiB,QAAQ,KAAzB,CAA0B,KAAK,CAAC,KAAhC,CAAsC,IAAI,CAAC,OAA3C,CAAmD,OAAO,CAAE,yBAAM,OAAKL,aAAL,CAAmBG,WAAW,CAACV,EAA/B,CAAN,EAA5D,EACC,oBAAC,MAAD,CAAQ,OAAR,EAAgB,OAAO,KAAvB,eADD,CAEE,oBAAC,MAAD,CAAQ,OAAR,EAAgB,MAAM,KAAtB,EACE,oBAAC,KAAD,EAAO,MAAM,CAAC,sCAAd,CAAuB,KAAK,CAAC,WAA7B,EADF,CAFF,CADA,CADF,EAQE,oBAAC,KAAD,CAAO,MAAP,qBARF,CASI,oBAAC,KAAD,CAAO,OAAP,EAAe,KAAK,KAApB,EACE,2BAAK,SAAS,CAAC,OAAf,EACE,oBAAC,KAAD,EAAO,OAAO,KAAd,CAAe,IAAI,CAAC,QAApB,CAA6B,GAAG,CAAC,kBAAjC,EADF,CADF,CAIE,oBAAC,KAAD,CAAO,WAAP,MACA,0BAAI,SAAS,CAAC,aAAd,aAAsCnB,IAAtC,CADA,CAEA,2CAAe6B,WAAW,CAAC7B,IAA3B,CAFA,CAGA,6CAAkBU,UAAlB,CAHA,CAIA,sDAA2BC,cAA3B,CAJA,CAKA,wCAAYkB,WAAW,CAACE,KAAZ,CAAoBpB,cAAhC,CALA,CAJF,CATJ,CAqBI,oBAAC,KAAD,CAAO,OAAP,MACG,MAAKW,WAAL,EADH,CArBJ,CAHF,CA6BE,oBAAC,KAAD,EAAO,OAAO,CACZ,oBAAC,MAAD,EAAQ,QAAQ,KAAhB,CAAiB,KAAK,CAAC,KAAvB,EACA,oBAAC,MAAD,CAAQ,OAAR,EAAgB,OAAO,KAAvB,YADA,CADF,EAKA,oBAAC,KAAD,CAAO,MAAP,MAAeO,WAAW,CAAC7B,IAA3B,CALA,CAME,oBAAC,KAAD,CAAO,OAAP,EAAe,KAAK,KAApB,EACE,oBAAC,KAAD,EAAO,OAAO,KAAd,CAAe,IAAI,CAAC,QAApB,CAA6B,GAAG,CAAE6B,WAAW,CAACC,KAA9C,EADF,CAEE,oBAAC,KAAD,CAAO,WAAP,MACA,oBAAC,MAAD,MADA,CAECD,WAAW,CAACG,OAAZ,CAAoBlC,GAApB,CAAwB,SAACmC,MAAD,CAAY,CACnC,MAAO,4BAAK,SAAS,CAAC,QAAf,EAAwB,6BAAIA,MAAM,CAACC,MAAX,OAAsBD,MAAM,CAACE,QAA7B,CAAxB,CAAP,CACD,CAFA,CAFD,CAKA,oBAAC,UAAD,EAAY,KAAK,CAAE,MAAK1C,KAAL,CAAWG,aAAX,CAAyBU,KAA5C,CAAmD,SAAS,CAAE,MAAKb,KAAL,CAAW2C,SAAzE,CAAoF,UAAU,CAAEP,WAAW,CAACV,EAA5G,CAAgH,aAAa,CAAE,MAAK1B,KAAL,CAAWG,aAAX,CAAyByC,aAAxJ,EALA,CAFF,CANF,CA7BF,CAFD,CADD,CADK,CAAP,CAwDD,CAzDqD,CAA/C,CAyDF,4BAzDL,CA0DH,C,wGArKmB,iBAClB;AACA,GAAIC,CAAAA,QAAQ,CAAG,KAAK7C,KAAL,CAAW8C,KAAX,CAAiBC,MAAjB,CAAwBrB,EAAvC,CACA;AACA;AACAhB,KAAK,mDAA4CmC,QAA5C,EAAL,CACC1B,IADD,CACM,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,IAAF,EAAJ,EADP,EAECF,IAFD,CAEM,SAAApB,SAAS,CAAI,CACjB,MAAI,CAACD,QAAL,CAAcC,SAAd,EACD,CAJD,EAKD,C,uCA8JQ,CACP;AACA;AACAiD,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2C,KAAKjD,KAAL,CAAWG,aAAtD,EACA;AACA;AALO,GAMFI,CAAAA,IANE,CAMM,KAAKP,KAAL,CAAWG,aAAX,CAAyBJ,SAN/B,CAMFQ,IANE,CAOL,MACE,gCACA,oBAAC,IAAD,EAAM,QAAQ,KAAd,CAAe,OAAO,CAAE,CAAxB,EACA,oBAAC,IAAD,CAAM,MAAN,MACA,wCAAYA,IAAZ,CADA,CAEE,oBAAC,KAAD,EAAO,GAAG,CAAE,KAAKP,KAAL,CAAWG,aAAX,CAAyBJ,SAAzB,CAAmCsC,KAA/C,EAFF,CADA,CAKA,oBAAC,IAAD,CAAM,GAAN,EAAU,QAAQ,KAAlB,CAAmB,OAAO,CAAE,CAA5B,EALA,CADA,CASC,KAAKH,eAAL,EATD,CADF,CAaH,C,6BA1M2BrD,S,EA4M9B;AACA;AACA;AAEA,cAAeW,CAAAA,eAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Grid, Image, Card, Button, Icon, Modal, Header } from 'semantic-ui-react'\nimport Emoji from './Emoji'\nimport ReviewForm from './ReviewForm'\nimport StripeCheckout from 'react-stripe-checkout'\n// import Review from './Review'\n\n\n\nclass PlanetLocations extends Component {\n\n  state = {\n    open: false,\n    location_id: 0\n  }\n\n  open = () => this.setState({ open: true })\n  close = () => this.setState({ open: false })\n\n  sendData = (planetObj) => {\n    this.props.getPlanetObj(planetObj);\n  }\n\n  componentDidMount() {\n    // debugger;\n    let planetId = this.props.match.params.id;\n    // console.log(planetId)\n    // debugger\n    fetch(`https://galaxybnb.herokuapp.com/planets/${planetId}`)\n    .then(r => r.json())\n    .then(planetObj => {\n      this.sendData(planetObj)\n    })\n  }\n\n  renderPlanetNames = () => {\n    return this.props.stateFromMain.planets.map((planet) => {\n      return (\n        planet ? planet.name : 'meow'\n      )\n    })\n  }\n\n  handleClick = (evt) => {\n    // console.log(this.state.location_id, this.props.stateFromMain.token)\n    // let {token} = this.props.stateFromMain\n\n    // if (token) {\n      fetch('https://galaxybnb.herokuapp.com/bookings', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n          'Authorization': `bearer ${this.props.stateFromMain.token}`\n        },\n        body: JSON.stringify({\n          location_id: this.state.location_id,\n          datesRange: this.props.stateFromMain.datesRange,\n          numOfTravelers: this.props.stateFromMain.numOfTravelers\n        })\n      })\n      .then(r => r.json())\n      // .then(console.log)\n      .then(bookingObj => {\n        this.props.addBooking(bookingObj)\n      })\n  }\n\n  // STRIPE FETCH\n\n  onToken = (token) => {\n    const charge = {\n      token: token.id\n    };\n    let location_id = this.state.location_id\n    const config = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        charge: charge,\n        location_id,\n        numOfTravelers: this.props.stateFromMain.numOfTravelers\n      })\n  }\n  // debugger\n  fetch('https://galaxybnb.herokuapp.com/charges', config)\n    .then(res => res.json())\n    .then(charge => {\n      if (charge) {\n        this.handleClick()\n      }\n    })\n\n  }\n\n  nestedModal = () => {\n   const { open } = this.state\n\n    return  <Modal\n      open={open}\n      onOpen={this.open}\n      onClose={this.close}\n      size='small'\n      trigger={\n        <StripeCheckout\n          token={this.onToken}\n          stripeKey={process.env.REACT_APP_STRIPE_API_KEY}>\n        <Button\n          disabled={ this.props.stateFromMain.token ? false : true}\n          circular={true}\n          inverted color='red'\n        >\n        Book Location <Icon name='right chevron' />\n        </Button>\n      </StripeCheckout>\n      }\n    >\n    </Modal>\n  }\n\n  handleBooking = (id) => {\n    this.setState({\n      location_id: id\n    })\n  }\n\n  renderLocations = (state) => {\n    let {datesRange, numOfTravelers} = this.props.stateFromMain\n    let {name} = this.props.stateFromMain.planetObj\n      return this.props.stateFromMain.planetObj.locations ? this.props.stateFromMain.planetObj.locations.map((locationObj) => {\n        return <Grid.Column key={locationObj.id}>\n          <Card.Group >\n           <Card centered={true} stackable='true' itemsperrow={3} color='black'>\n            <Image src={locationObj.image} wrapped ui={false} />\n            <Card.Content>\n              <h1>{locationObj.name}</h1>\n                <Card.Header>&{locationObj.price} galactic credits</Card.Header>\n              <Modal trigger={\n                <div>\n                <Button animated inverted color='red' size='small' onClick={() => this.handleBooking(locationObj.id)}\n                ><Button.Content visible>Board Ship</Button.Content>\n                  <Button.Content hidden>\n                    <Emoji symbol=\"🚀🚀🚀\" label=\"spaceship\"/>\n                  </Button.Content></Button>\n                </div>}>\n                <Modal.Header>Confirmation</Modal.Header>\n                  <Modal.Content image>\n                    <div className='image'>\n                      <Image wrapped size='medium' src='../baby_yoda.png' />\n                    </div>\n                    <Modal.Description >\n                    <h1 className='planet-name'>Planet: { name }</h1>\n                    <h1>Location: {locationObj.name}</h1>\n                    <h2>Date Range: { datesRange }</h2>\n                    <h3>Number of Travelers: { numOfTravelers }</h3>\n                    <h3>Price: {locationObj.price * numOfTravelers}</h3>\n                    </Modal.Description>\n                  </Modal.Content>\n                  <Modal.Actions>\n                    {this.nestedModal()}\n                  </Modal.Actions>\n              </Modal>\n\n              <Modal trigger={\n                <Button inverted color='red'>\n                <Button.Content visible>Reviews</Button.Content>\n                </Button>\n                }>\n              <Modal.Header>{locationObj.name}</Modal.Header>\n                <Modal.Content image>\n                  <Image wrapped size='medium' src={locationObj.image} />\n                  <Modal.Description>\n                  <Header></Header>\n                  {locationObj.reviews.map((review) => {\n                    return <div className='review'><p>{review.rating} - {review.username}</p></div>\n                  })}\n                  <ReviewForm token={this.props.stateFromMain.token} addReview={this.props.addReview} locationId={locationObj.id} error_message={this.props.stateFromMain.error_message}/>\n\n                 </Modal.Description>\n               </Modal.Content>\n              </Modal>\n              </Card.Content>\n             </Card>\n             </Card.Group>\n          </Grid.Column>\n\n      }) : 'The force is not with you.'\n  }\n\n\n  render() {\n    // debugger;\n    // console.log('STATE FROM PLANET_LOCATIONS', this.state.planetObj)\n    console.log('PROPS FROM PLANET_LOCATIONS', this.props.stateFromMain);\n    // console.log(this.state);\n    // console.log('PROPS FROM PLANET_LOCATIONS', this.props.stateFromMain.planetObj.locations)\n    let {name} = this.props.stateFromMain.planetObj\n      return (\n        <div >\n        <Grid centered columns={2}>\n        <Grid.Column>\n        <h1>Planet {name}</h1>\n          <Image src={this.props.stateFromMain.planetObj.image} />\n        </Grid.Column>\n        <Grid.Row centered columns={4}>\n        </Grid.Row>\n        </Grid>\n        {this.renderLocations()}\n        </div>\n      );\n  }\n}\n// {locationObj.reviews.map((review) => {\n//   return <p>{review.rating} - me</p>\n// })}\n\nexport default PlanetLocations;\n"]},"metadata":{},"sourceType":"module"}
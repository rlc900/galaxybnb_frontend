{"ast":null,"code":"import _toConsumableArray from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import UserForm from'../components/UserForm';import NavBar from'../components/NavBar';import Home from'../components/Home';import Profile from'../components/Profile';import PlanetLocations from'../components/PlanetLocations';import{Switch,Route}from'react-router';import{withRouter}from'react-router-dom';var MainContainer=/*#__PURE__*/function(_Component){_inherits(MainContainer,_Component);function MainContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,MainContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MainContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={user:{username:'',reviewed_locations:[]},token:'',error_message:'',planets:[],datesRange:'',numOfTravelers:'',selectedPlanet:'',planetObj:{}};_this.addReview=function(reviewObj){// debugger\nvar modifiedLocations=_this.state.planetObj.locations.map(function(location){if(location.id===reviewObj.reviewed_location_id){return _objectSpread({},location,{reviews:[].concat(_toConsumableArray(location.reviews),[reviewObj])});}else{return location;}});_this.setState({planetObj:_objectSpread({},_this.state.planetObj,{locations:modifiedLocations})});};_this.addBooking=function(bookingObj){var modifiedBookings=[].concat(_toConsumableArray(_this.state.user.locationsBooked),[bookingObj]);_this.setState({user:_objectSpread({},_this.state.user,{locationsBooked:modifiedBookings})},function(){_this.props.history.push('/profile');});};_this.handleSubmit=function(userInfo,route,method){// console.log(route)\n// console.log('Form has been submitted')\nfetch(\"https://galaxybnb.herokuapp.com\".concat(route),{method:method,headers:{'content-type':'application/json'},body:JSON.stringify(userInfo)}).then(function(r){return r.json();}).then(function(userData){// console.log(userData)\nif(!userData.error){localStorage.setItem('token',userData.token);_this.setState({user:_objectSpread({},userData.user,{username:userData.user.username}),token:userData.token},function(){_this.props.history.push('/profile');});}_this.setState({error_message:userData.error});// console.log(userData)\n});};_this.renderForm=function(routerProps){var pathname=routerProps.location.pathname;var _this$state=_this.state,error_message=_this$state.error_message,user=_this$state.user;// console.log(routerProps)\nif(pathname==='/signup'){return React.createElement(UserForm,Object.assign({formName:\"Signup\",handleFormSubmit:_this.handleSubmit,error:error_message,user:user},routerProps));}else if(pathname==='/login'){return React.createElement(UserForm,Object.assign({formName:\"Login\",handleFormSubmit:_this.handleSubmit,error:error_message,user:user},routerProps));}else if(routerProps.location.pathname==='/update'){return React.createElement(UserForm,Object.assign({formName:\"update username\",handleFormSubmit:_this.handleSubmit,error:error_message,user:user},routerProps));}};_this.renderProfile=function(){return React.createElement(Profile,{handleDelete:_this.handleDelete,stateFromMain:_this.state});};_this.renderLogout=function(routerProps){_this.setState({user:{},token:''});localStorage.clear();routerProps.history.push('/home');};_this.handleDelete=function(id){fetch(\"https://galaxybnb.herokuapp.com/users/\".concat(id),{method:'DELETE'}).then(function(r){return r.json();}).then(function(){localStorage.clear();window.location.href=\"/home\";});};_this.sendToMain=function(selectedPlanet,datesRange,numOfTravelers){_this.setState({selectedPlanet:selectedPlanet,datesRange:datesRange,numOfTravelers:numOfTravelers});};_this.getPlanetObj=function(newPlanetObj){_this.setState({planetObj:newPlanetObj});};return _this;}_createClass(MainContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// info persisted when page refreshes\nif(localStorage.getItem('token')){var token=localStorage.getItem('token');fetch(\"https://galaxybnb.herokuapp.com/persist\",{headers:{'Authorization':\"bearer \".concat(token)}}).then(function(r){return r.json();}).then(function(userData){if(userData.token){localStorage.setItem('token',userData.token);_this2.setState({user:_objectSpread({},userData.user,{username:userData.user.username}),token:userData.token},function(){_this2.props.history.push('/home');});}});}fetch(\"https://galaxybnb.herokuapp.com/planets\").then(function(r){return r.json();}).then(function(planetArr){// console.log(planetArr[0].name)\n_this2.setState({planets:planetArr});});}},{key:\"render\",value:function render(){var _this3=this;console.log('MAIN CONT STATE',this.state);// console.log('STATE FROM MAIN_CONTAINER', this.state)\nreturn React.createElement(\"div\",{className:\"main-container\"},React.createElement(NavBar,null),React.createElement(Switch,null,React.createElement(Route,{exact:true,path:['/','/home'],render:function render(props){return React.createElement(Home,Object.assign({},props,{sendToMain:_this3.sendToMain,stateFromMain:_this3.state}));}}),React.createElement(Route,{path:\"/signup\",render:this.renderForm}),React.createElement(Route,{path:\"/login\",render:this.renderForm}),React.createElement(Route,{path:\"/profile\",render:this.renderProfile}),React.createElement(Route,{path:\"/logout\",render:this.renderLogout}),React.createElement(Route,{path:\"/update\",render:this.renderForm}),React.createElement(Route,{path:\"/places/:id\",render:function render(props){return React.createElement(PlanetLocations,Object.assign({},props,{addBooking:_this3.addBooking,getPlanetObj:_this3.getPlanetObj,stateFromMain:_this3.state,addReview:_this3.addReview}));}})));}}]);return MainContainer;}(Component);export default withRouter(MainContainer);","map":{"version":3,"sources":["/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/src/containers/MainContainer.jsx"],"names":["React","Component","UserForm","NavBar","Home","Profile","PlanetLocations","Switch","Route","withRouter","MainContainer","state","user","username","reviewed_locations","token","error_message","planets","datesRange","numOfTravelers","selectedPlanet","planetObj","addReview","reviewObj","modifiedLocations","locations","map","location","id","reviewed_location_id","reviews","setState","addBooking","bookingObj","modifiedBookings","locationsBooked","props","history","push","handleSubmit","userInfo","route","method","fetch","headers","body","JSON","stringify","then","r","json","userData","error","localStorage","setItem","renderForm","routerProps","pathname","renderProfile","handleDelete","renderLogout","clear","window","href","sendToMain","getPlanetObj","newPlanetObj","getItem","planetArr","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport UserForm from '../components/UserForm'\nimport NavBar from '../components/NavBar'\nimport Home from '../components/Home'\nimport Profile from '../components/Profile'\nimport PlanetLocations from '../components/PlanetLocations'\n\nimport {Switch, Route} from 'react-router'\nimport {withRouter} from 'react-router-dom'\n\n\n\nclass MainContainer extends Component {\n\n  state = {\n    user: {\n      username: '',\n      reviewed_locations: []\n      },\n    token: '',\n    error_message: '',\n    planets: [],\n    datesRange: '',\n    numOfTravelers: '',\n    selectedPlanet: '',\n    planetObj: {}\n  }\n\n  addReview = (reviewObj) => {\n    // debugger\n    let modifiedLocations = this.state.planetObj.locations.map((location) => {\n        if (location.id === reviewObj.reviewed_location_id) {\n          return {...location, reviews: [...location.reviews, reviewObj]}\n        } else {\n          return location\n        }\n      })\n        this.setState({\n          planetObj: {...this.state.planetObj, locations: modifiedLocations}\n        })\n  }\n\n  addBooking = (bookingObj) => {\n    let modifiedBookings = [...this.state.user.locationsBooked, bookingObj]\n    this.setState({\n      user: {...this.state.user, locationsBooked: modifiedBookings}\n\n    }, () => {\n      this.props.history.push('/profile')\n    })\n\n  }\n\n  componentDidMount() {\n    // info persisted when page refreshes\n    if(localStorage.getItem('token')) {\n      let token = localStorage.getItem('token')\n      fetch(`https://galaxybnb.herokuapp.com/persist`, {\n        headers: {\n        'Authorization': `bearer ${token}`\n      }\n      })\n      .then(r => r.json())\n      .then(userData => {\n        if (userData.token) {\n          localStorage.setItem('token', userData.token)\n          this.setState({\n            user: {...userData.user, username: userData.user.username},\n            token: userData.token\n          }, () => {\n             this.props.history.push('/home')\n          })\n        }\n      })\n    }\n\n    fetch(`https://galaxybnb.herokuapp.com/planets`)\n        .then(r => r.json())\n        .then((planetArr) => {\n          // console.log(planetArr[0].name)\n          this.setState({\n            planets: planetArr\n          });\n        })\n  }\n\n  handleSubmit = (userInfo, route, method) => {\n    // console.log(route)\n    // console.log('Form has been submitted')\n    fetch(`https://galaxybnb.herokuapp.com${route}`, {\n      method: method,\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(\n        userInfo\n      )\n    })\n    .then(r => r.json())\n    .then(userData => {\n      // console.log(userData)\n      if (!userData.error) {\n        localStorage.setItem('token', userData.token)\n        this.setState({\n          user: {...userData.user, username: userData.user.username},\n          token: userData.token\n        }, () => {\n           this.props.history.push('/profile')\n        })\n      }\n      this.setState({\n        error_message: userData.error\n      })\n      // console.log(userData)\n    })\n  }\n\n\nrenderForm = (routerProps) => {\n  let {pathname} = routerProps.location\n  let {error_message, user} = this.state\n    // console.log(routerProps)\n    if (pathname === '/signup') {\n      return <UserForm formName='Signup' handleFormSubmit={this.handleSubmit} error={error_message} user={user} {...routerProps}/>\n    } else if (pathname === '/login') {\n      return <UserForm formName='Login' handleFormSubmit={this.handleSubmit} error={error_message} user={user} {...routerProps}/>\n    }  else if (routerProps.location.pathname === '/update') {\n      return <UserForm formName='update username' handleFormSubmit={this.handleSubmit} error={error_message} user={user} {...routerProps}/>\n    }\n  }\n\n  renderProfile = () => {\n    return <Profile handleDelete={this.handleDelete} stateFromMain={this.state}/>\n  }\n\n  renderLogout = (routerProps) => {\n    this.setState({\n      user: {},\n      token: ''\n    })\n    localStorage.clear()\n    routerProps.history.push('/home')\n  }\n\n\n\n  handleDelete = (id) => {\n    fetch(`https://galaxybnb.herokuapp.com/users/${id}`, {\n      method: 'DELETE'\n    })\n    .then(r => r.json())\n    .then(() => {\n      localStorage.clear()\n      window.location.href = \"/home\"\n    })\n  }\n\n  sendToMain = (selectedPlanet, datesRange, numOfTravelers) => {\n    this.setState({\n      selectedPlanet: selectedPlanet,\n      datesRange: datesRange,\n      numOfTravelers: numOfTravelers\n    })\n  }\n\n\n  getPlanetObj = (newPlanetObj) => {\n    this.setState({planetObj: newPlanetObj})\n  }\n\n\n  render() {\n    console.log('MAIN CONT STATE', this.state)\n    // console.log('STATE FROM MAIN_CONTAINER', this.state)\n    return (\n      <div className='main-container'>\n      <NavBar />\n      <Switch>\n        <Route exact path={['/', '/home']} render={(props) => <Home {...props} sendToMain={this.sendToMain} stateFromMain={this.state}/>}/>\n        <Route path='/signup' render={this.renderForm}/>\n        <Route path='/login' render={this.renderForm}/>\n        <Route path='/profile' render={this.renderProfile}/>\n        <Route path='/logout' render={this.renderLogout}/>\n        <Route path='/update' render={this.renderForm}/>\n        <Route path='/places/:id' render={(props) => <PlanetLocations {...props} addBooking={this.addBooking} getPlanetObj={this.getPlanetObj} stateFromMain={this.state} addReview={this.addReview}/>}/>\n\n\n      </Switch>\n      </div>\n      );\n    }\n\n}\n\nexport default withRouter(MainContainer);\n"]},"metadata":{},"sourceType":"module"}
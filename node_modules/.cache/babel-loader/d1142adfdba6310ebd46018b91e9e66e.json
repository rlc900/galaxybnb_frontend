{"ast":null,"code":"var _jsxFileName = \"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/src/components/BookingForm.jsx\";\nimport React, { Component } from 'react';\nimport { Form, Select } from 'semantic-ui-react';\nimport { DatesRangeInput } from 'semantic-ui-calendar-react';\nlet numberOptions = [{\n  text: '1',\n  value: '1'\n}, {\n  text: '2',\n  value: '2'\n}, {\n  text: '3',\n  value: '3'\n}, {\n  text: '4',\n  value: '4'\n}, {\n  text: '5',\n  value: '5'\n}, {\n  text: '6',\n  value: '6'\n}, {\n  text: '7',\n  value: '7'\n}, {\n  text: '8',\n  value: '8'\n}, {\n  text: '9',\n  value: '9'\n}, {\n  text: '10',\n  value: '10'\n}];\n\nclass BookingForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      planets: [],\n      datesRange: '',\n      numOfTravelers: '',\n      selectedPlanet: '',\n      planetName: ''\n    };\n\n    this.validate = () => {\n      let {\n        error_message\n      } = this.props.stateFromMain;\n    };\n\n    this.handleSubmit = (evt, id) => {\n      evt.preventDefault();\n      const isValid = this.validate();\n      let {\n        selectedPlanet\n      } = this.state; // Takes user to page where they can select\n      // places to rent\n\n      if (isValid) {\n        this.props.history.push(`/places/${selectedPlanet}`);\n        this.valuesFromBooking();\n      }\n    };\n\n    this.formatOptions = () => {\n      return this.state.planets.map(planet => {\n        return {\n          text: planet.name,\n          value: planet.id\n        };\n      });\n    };\n\n    this.handleChange = (event, {\n      name,\n      value\n    }) => {\n      if (this.state.hasOwnProperty(name)) {\n        this.setState({\n          [name]: value\n        });\n      }\n    };\n\n    this.valuesFromBooking = () => {\n      let {\n        planets,\n        selectedPlanet,\n        datesRange,\n        numOfTravelers\n      } = this.state;\n      this.props.sendStateToMain(planets, selectedPlanet, datesRange, numOfTravelers);\n    };\n  }\n\n  componentDidMount() {\n    //\n    fetch(`http://localhost:4000/planets`).then(r => r.json()).then(planetArr => {\n      // console.log(planetArr[0].name)\n      this.setState({\n        planets: planetArr\n      });\n    });\n  }\n\n  render() {\n    // console.log(this.state)\n    // console.log(this.props.stateFromMain.error_message)\n    return React.createElement(\"div\", {\n      className: \"booking-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      control: Select,\n      label: \"Planets\",\n      options: this.formatOptions(),\n      onChange: this.handleChange,\n      name: 'selectedPlanet',\n      placeholder: \"Planets\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(DatesRangeInput, {\n      name: \"datesRange\",\n      placeholder: \"From - To\",\n      value: this.state.datesRange,\n      iconPosition: \"left\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Form.Select, {\n      fluid: true,\n      label: \"How many travelers?\",\n      options: numberOptions,\n      onChange: this.handleChange,\n      name: 'numOfTravelers',\n      placeholder: \"Travelers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(Form.Button, {\n      inverted: true,\n      color: \"violet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nexport default BookingForm; // style={{ 'background-color': 'black', height: '700px' }}","map":{"version":3,"sources":["/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/src/components/BookingForm.jsx"],"names":["React","Component","Form","Select","DatesRangeInput","numberOptions","text","value","BookingForm","state","planets","datesRange","numOfTravelers","selectedPlanet","planetName","validate","error_message","props","stateFromMain","handleSubmit","evt","id","preventDefault","isValid","history","push","valuesFromBooking","formatOptions","map","planet","name","handleChange","event","hasOwnProperty","setState","sendStateToMain","componentDidMount","fetch","then","r","json","planetArr","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Select } from 'semantic-ui-react'\nimport { DatesRangeInput } from 'semantic-ui-calendar-react';\n\n\nlet numberOptions = [\n  {text: '1', value: '1'},\n  {text: '2', value: '2'},\n  {text: '3', value: '3'},\n  {text: '4', value: '4'},\n  {text: '5', value: '5'},\n  {text: '6', value: '6'},\n  {text: '7', value: '7'},\n  {text: '8', value: '8'},\n  {text: '9', value: '9'},\n  {text: '10', value: '10'}\n]\nclass BookingForm extends Component {\n\n  state = {\n    planets: [],\n    datesRange: '',\n    numOfTravelers: '',\n    selectedPlanet: '',\n    planetName: ''\n  }\n\n  validate = () => {\n    let {error_message} = this.props.stateFromMain\n\n    \n  }\n\n  handleSubmit = (evt, id) => {\n    evt.preventDefault()\n    const isValid = this.validate()\n    let {selectedPlanet} = this.state\n    // Takes user to page where they can select\n    // places to rent\n    if (isValid) {\n      this.props.history.push(`/places/${selectedPlanet}`)\n      this.valuesFromBooking()\n    }\n  }\n\n  componentDidMount() {\n    //\n    fetch(`http://localhost:4000/planets`)\n        .then(r => r.json())\n        .then((planetArr) => {\n          // console.log(planetArr[0].name)\n          this.setState({\n            planets: planetArr\n          });\n        })\n  }\n\n  formatOptions = () => {\n    return this.state.planets.map(planet => {\n      return {\n        text: planet.name,\n        value: planet.id\n      }\n    })\n  }\n\n  handleChange = (event, {name, value}) => {\n    if (this.state.hasOwnProperty(name)) {\n      this.setState({ [name]: value });\n    }\n  }\n\n  valuesFromBooking = () => {\n    let {planets, selectedPlanet, datesRange, numOfTravelers} = this.state\n      this.props.sendStateToMain(planets, selectedPlanet, datesRange, numOfTravelers)\n  }\n\n\n  render() {\n    // console.log(this.state)\n    // console.log(this.props.stateFromMain.error_message)\n    return (\n      <div className='booking-form'>\n      <Form onSubmit={this.handleSubmit}>\n\n        <Form.Group widths='equal'>\n        <Form.Field\n            control={Select}\n            label='Planets'\n            options={this.formatOptions()}\n            onChange={this.handleChange}\n            name={'selectedPlanet'}\n            placeholder='Planets'\n          />\n        </Form.Group>\n        <DatesRangeInput\n         name=\"datesRange\"\n         placeholder=\"From - To\"\n         value={this.state.datesRange}\n         iconPosition=\"left\"\n         onChange={this.handleChange}\n        />\n        <Form.Group widths='equal'>\n        <Form.Select\n          fluid\n          label='How many travelers?'\n          options={numberOptions}\n          onChange={this.handleChange}\n          name={'numOfTravelers'}\n          placeholder='Travelers'\n        />\n      </Form.Group>\n\n        <Form.Button inverted color='violet'>Submit</Form.Button>\n      </Form>\n      </div>\n    );\n  }\n\n}\n\nexport default BookingForm;\n\n// style={{ 'background-color': 'black', height: '700px' }}\n"]},"metadata":{},"sourceType":"module"}
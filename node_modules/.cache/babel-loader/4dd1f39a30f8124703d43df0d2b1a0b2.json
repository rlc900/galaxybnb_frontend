{"ast":null,"code":"import _defineProperty from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Divider,Form}from'semantic-ui-react';// let reviewUrl = `https://localhost:4000/reviews`\nvar ReviewForm=/*#__PURE__*/function(_Component){_inherits(ReviewForm,_Component);function ReviewForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,ReviewForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ReviewForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={rating:''};_this.handleReviewFormSubmit=function(evt){evt.preventDefault();// console.log('aye')\nfetch(\"https://galaxybnb.herokuapp.com/reviews\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"bearer \".concat(_this.props.token)},body:JSON.stringify({rating:_this.state.rating,location_id:_this.props.locationId})}).then(function(r){return r.json();})// .then(console.log)\n.then(function(reviewObj){// let locationId = this.props.locationId\n_this.props.addReview(reviewObj);_this.setState({rating:''});// console.log(reviewObj)\n});};_this.onChange=function(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(ReviewForm,[{key:\"render\",value:function render(){// console.log(this.props)\nreturn React.createElement(\"div\",{className:\"review-form\"},React.createElement(Form,{onSubmit:this.handleReviewFormSubmit,size:\"large\",key:\"large\"},React.createElement(Form.Group,{widths:\"equal\"},React.createElement(Form.Field,{label:\"Review\",control:\"input\",input:true,type:\"text\",name:\"rating\",value:this.state.rating,onChange:this.onChange,placeholder:\"Write a review...\",autoComplete:\"off\"})),React.createElement(Form.Button,{inverted:true,color:\"red\"},\"Submit Review\"),React.createElement(Divider,{hidden:true})));}}]);return ReviewForm;}(Component);export default ReviewForm;// <h2>{this.props.error_message}</h2>","map":{"version":3,"sources":["/Users/riannacleary/Desktop/mod5/galaxybnb_frontend/src/components/ReviewForm.jsx"],"names":["React","Component","Divider","Form","ReviewForm","state","rating","handleReviewFormSubmit","evt","preventDefault","fetch","method","headers","props","token","body","JSON","stringify","location_id","locationId","then","r","json","reviewObj","addReview","setState","onChange","target","name","value"],"mappings":"ozBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,CAAkBC,IAAlB,KAA8B,mBAA9B,CAGA;GACMC,CAAAA,U,+YAEJC,K,CAAQ,CACNC,MAAM,CAAE,EADF,C,OAIRC,sB,CAAyB,SAACC,GAAD,CAAS,CAChCA,GAAG,CAACC,cAAJ,GACA;AAEAC,KAAK,2CAA4C,CAC/CC,MAAM,CAAE,MADuC,CAE/CC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,iCAA2B,MAAKC,KAAL,CAAWC,KAAtC,CAFO,CAFsC,CAM/CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBX,MAAM,CAAE,MAAKD,KAAL,CAAWC,MADA,CAEnBY,WAAW,CAAE,MAAKL,KAAL,CAAWM,UAFL,CAAf,CANyC,CAA5C,CAAL,CAWCC,IAXD,CAWO,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,IAAF,EAAJ,EAXR,CAYA;AAZA,CAaCF,IAbD,CAaM,SAACG,SAAD,CAAe,CACnB;AACA,MAAKV,KAAL,CAAWW,SAAX,CAAqBD,SAArB,EACA,MAAKE,QAAL,CAAc,CACZnB,MAAM,CAAE,EADI,CAAd,EAGA;AACD,CApBD,EAqBD,C,OAEDoB,Q,CAAW,SAAClB,GAAD,CAAS,iBACEA,GAAG,CAACmB,MADN,CACbC,IADa,aACbA,IADa,CACPC,KADO,aACPA,KADO,CAEhB,MAAKJ,QAAL,oBACGG,IADH,CACUC,KADV,GAGH,C,6EAEQ,CACP;AACA,MACE,4BAAK,SAAS,CAAC,aAAf,EACA,oBAAC,IAAD,EAAM,QAAQ,CAAE,KAAKtB,sBAArB,CAA6C,IAAI,CAAC,OAAlD,CAA0D,GAAG,CAAC,OAA9D,EACC,oBAAC,IAAD,CAAM,KAAN,EAAY,MAAM,CAAC,OAAnB,EACE,oBAAC,IAAD,CAAM,KAAN,EACE,KAAK,CAAC,QADR,CAEE,OAAO,CAAC,OAFV,CAGE,KAAK,KAHP,CAGQ,IAAI,CAAC,MAHb,CAGoB,IAAI,CAAC,QAHzB,CAGkC,KAAK,CAAE,KAAKF,KAAL,CAAWC,MAHpD,CAG4D,QAAQ,CAAE,KAAKoB,QAH3E,CAIE,WAAW,CAAC,mBAJd,CAKE,YAAY,CAAC,KALf,EADF,CADD,CAWC,oBAAC,IAAD,CAAM,MAAN,EAAa,QAAQ,KAArB,CAAsB,KAAK,CAAC,KAA5B,kBAXD,CAaC,oBAAC,OAAD,EAAS,MAAM,KAAf,EAbD,CADA,CADF,CAoBD,C,wBA9DsBzB,S,EAkEzB,cAAeG,CAAAA,UAAf,CAEC","sourcesContent":["import React, { Component } from 'react';\nimport { Divider, Form } from 'semantic-ui-react'\n\n\n// let reviewUrl = `https://localhost:4000/reviews`\nclass ReviewForm extends Component {\n\n  state = {\n    rating: ''\n  }\n\n  handleReviewFormSubmit = (evt) => {\n    evt.preventDefault()\n    // console.log('aye')\n\n    fetch(`https://galaxybnb.herokuapp.com/reviews`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `bearer ${this.props.token}`\n      },\n      body: JSON.stringify({\n        rating: this.state.rating,\n        location_id: this.props.locationId\n      })\n    })\n    .then( r => r.json())\n    // .then(console.log)\n    .then((reviewObj) => {\n      // let locationId = this.props.locationId\n      this.props.addReview(reviewObj)\n      this.setState({\n        rating: ''\n      })\n      // console.log(reviewObj)\n    })\n  }\n\n  onChange = (evt) => {\n    let {name, value} = evt.target\n      this.setState({\n        [name]: value\n      })\n  }\n\n  render() {\n    // console.log(this.props)\n    return (\n      <div className='review-form'>\n      <Form onSubmit={this.handleReviewFormSubmit} size='large' key='large'>\n       <Form.Group widths='equal'>\n         <Form.Field\n           label='Review'\n           control='input'\n           input type='text' name='rating' value={this.state.rating} onChange={this.onChange}\n           placeholder='Write a review...'\n           autoComplete='off'\n         />\n       </Form.Group>\n\n       <Form.Button inverted color='red'>Submit Review</Form.Button>\n\n       <Divider hidden />\n     </Form>\n\n      </div>\n    );\n  }\n\n}\n\nexport default ReviewForm;\n\n // <h2>{this.props.error_message}</h2>\n"]},"metadata":{},"sourceType":"module"}